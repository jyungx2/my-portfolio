---
title: 'Object-Oriented Programming (3)'
date: '2024-09-26'
tags: ['javascript', 'oop']
draft: false
summary:
---

## | Classical OOP vs JavaScript OOP

### 1. Constructor Functions and the new operator

- Regular functionê³¼ Constructor functionì˜ í•œê°€ì§€ ì°¨ì´ì :
  ìƒì„±ìí•¨ìˆ˜ëŠ” ì¼ë°˜ í•¨ìˆ˜ì™€ ë‹¤ë¥´ê²Œ new operator(keyword)ì™€ í•¨ê»˜ ë¶ˆëŸ¬ì˜¨ë‹¤ëŠ” ê²ƒ.

> 1. CF always start with a capital letter.
> 2. Arrow function will actually not work as a function constructor.
> 3. Person = just a name of constructor function.
> 4. Function constructors aren't really a feature of the JS language. Instead, they are simply a pattern that has been developed by other developers. And now everyone simply uses this.

```js
const Person = function (firstName, birthYear) {
  console.log(this) // Pesron {}

  // ğŸ’¡ Instance properties
  // will be available on all the instances that are created through this CF.
  this.firstName = firstName
  this.birthYear = birthYear

  // ğŸ’¡ What if we wanted to add a method to our objects?
  // â—ï¸â—ï¸ Never create a method inside of a constructor function.
  // ìˆ˜ì²œ,ìˆ˜ë°±ê°œì˜ ì˜¤ë¸Œì íŠ¸ê°€ í•„ìš”í•  ë•Œ, ì´ëŸ° ì‹ìœ¼ë¡œ ë‹¤ copyí•  ìˆœ ì—†ìœ¼ë‹ˆê¹Œ!
  // >> that would be terrible for the performance of our code.
  // âœ… prototypes & prototype inheritance ë¥¼ ì´ìš©í•  ê²ƒì´ë‹¤. (201 ê°•ì˜)
  // this.calcAge = function () {
  //   console.log(2037 - this.birthYear);
  // };
}
// = Blueprint

// = Actual house in the real world.
const jonas = new Person('Jonas', 1991)
console.log(jonas) // Person {firstName: 'Jonas', birthYear: 1991}
// new operator = very special operator
```

### ğŸ“Œ ìƒì„±ì í•¨ìˆ˜ê°€ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê³¼ì •

```js
const matilda = new Person('Matilda', 2017)
const jack = new Person('Jack', 1975)
console.log(matilda, jack)
// Person {firstName: 'Matilda', birthYear: 2017} Person {firstName: 'Jack', birthYear: 1975}
```

1. constructor functionì„ new operator(keyword)ë¥¼ ì´ìš©í•´ ë¶ˆëŸ¬ì˜¨ë‹¤.

2. ê·¸ëŸ¼ ì¦‰ì‹œ new empty objectê°€ ìƒê¸°ê²Œ ë˜ëŠ”ë°,

3. functionì•ˆì—ì„œì˜ this í‚¤ì›Œë“œê°€ ì´ empty objectë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ìˆë‹¤.

4. ì´ this í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ì„œ í•¨ìˆ˜ ì•ˆì—ì„œ obejctì˜ propertyë“¤ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

5. ì´ë•Œ property nameì„ parameter ì´ë¦„ê³¼ ë˜‘ê°™ì´ í•  í•„ìš”ëŠ” ì—†ì§€ë§Œ, ì•½ê°„ì˜ ê´€ìŠµì´ë‹¤.

6. new operatorë¡œ objectë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì´ constructor functionì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.

ì§€ë‚œ ê°•ì˜ì—ì„œ, classë¡œë¶€í„° ë§Œë“¤ì–´ì§„ obejctëŠ” "instance"ë¼ê³  ë¶€ë¥¸ë‹¤ê³  ë°°ì› ë‹¤.
JSëŠ” traditional OOPì˜ ê°œë… ì•ˆì—ì„œ classesì˜ ê°œë…ì„ ê°€ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— ì „í†µì ì¸ ê°œë…ì˜ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆœ ì—†ì§€ë§Œ, ìƒì„±ì í•¨ìˆ˜ë¡œë¶€í„° ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ë¶€ë¶„ì—ì„œ ë¹„ìŠ·í•˜ë‹¤.
ì¦‰, ìƒì„±ì í•¨ìˆ˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì´ˆê¸°ë¶€í„° í´ë˜ìŠ¤ë¥¼ ëª¨ë°©(simulate)í•œ ê°œë…ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.
ë”°ë¼ì„œ ì—¬ê¸°ì„œ ë§Œë“  â€‹Jonas, Matilda, Jack ê°ì²´ë¥¼ 'Person' í•¨ìˆ˜ì˜ "instance"ë¼ê³ ë„ ë¶€ë¥¼ ìˆ˜ ìˆë‹¤.

```js
// ğŸ’¡ instanceof = this will return true or false.
const jay = 'Jay'
console.log(jay instanceof Person) // false
// becasue we didn't create this varibale(jay).
console.log(jonas instanceof Person) // true
```

---

### 2. Prototypes

JSì—ì„œ ë§Œë“¤ì–´ì§„ ëª¨ë“  ê°ê°ì˜ í•¨ìˆ˜ë“¤ì€ ìë™ìœ¼ë¡œ "prototype"ì´ë¼ ë¶ˆë¦¬ëŠ” propertyë¥¼ ê°–ëŠ”ë‹¤.
ì´ë•Œ, constructor functionì— ì˜í•´ ë§Œë“¤ì–´ì§„ ëª¨ë“  ì˜¤ë¸Œì íŠ¸ëŠ” ìƒì„±ì í•¨ìˆ˜ì˜ prototype property(ê°ì²´)ì— ì •ì˜í•œ ëª¨ë“  methodsì™€ propertiesì— ì ‘ê·¼ê°€ëŠ¥í•˜ë‹¤.

```js
function Person(name, birthYear) {
  this.name = name
  this.birthYear = birthYear
}
console.log(Person.prototype) // {}
```

ì´ prototype ê°ì²´ì— ìš°ë¦¬ê°€ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë©´, ë‚˜ì¤‘ì— new Person()ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ê·¸ ë©”ì„œë“œë¥¼ ê³µìœ í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ì´ê²ƒì€ "Prototype Chain" ë•ë¶„ì´ë‹¤.

ìƒì„±ì í•¨ìˆ˜ Personìœ¼ë¡œ ë§Œë“  ê°ì²´(jay, jack, matilda ë“±)ëŠ” ê·¸ ê°ì²´ì˜ **proto**(ìˆ¨ê²¨ì§„ ë‚´ë¶€ ìŠ¬ë¡¯)ê°€ ìƒì„±ì í•¨ìˆ˜ì˜ prototype ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê²Œ ëœë‹¤.

```js
const jay = new Person('Jay', 1995)
console.log(jay.__proto__ === Person.prototype) // true
```

ì¦‰, â€œìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ë§Œë“¤ì–´ì§„ ê°ì²´â€ â†’ â€œê·¸ ê°ì²´ì˜ [Prototype]â€ â†’ â€œìƒì„±ì í•¨ìˆ˜ì˜ prototype ê°ì²´â€ ë¼ëŠ” ì—°ê²°ê³ ë¦¬ê°€ ìƒê¸°ê³ , ì´ê±¸ **í”„ë¡œí† íƒ€ì… ì²´ì¸(prototype chain)** ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

ğŸ‘‰ ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ìƒì„±ì í•¨ìˆ˜ì˜ prototype propertyì— ë©”ì†Œë“œë¥¼ ì¶”ê°€í•œ ë‹¤ìŒ, ê°ê°ì˜ ë³€ìˆ˜ì— ì´ ë°©ë²•ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì‹ìœ¼ë¡œ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤. ìœ„ì˜ 1ë²ˆ ì±•í„°ì—ì„œì²˜ëŸ¼ ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì— this í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ ë©”ì†Œë“œë¥¼ ë§Œë“¤ì§€ ì•Šê³ (= create a copy of a method and attach it to every single obejct.), **prototypal inheritance** ê°œë…ì„ ì´ìš©í•´ì•¼ í•œë‹¤.

ì™œëƒí•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í•˜ë‚˜ì˜ copyë§Œ ë§Œë“¤ì–´ë„, í•´ë‹¹ ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ë§Œë“¤ì–´ì§„ ëª¨ë“  ê°ì²´ë“¤ì€ ë§Œë“¤ì–´ì§„ í•¨ìˆ˜/ë©”ì†Œë“œì— ì ‘ê·¼ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ìƒë‹¹íˆ íš¨ìœ¨ì ì´ë‹¤.

```js
// - this keyword = the object that's calling the method.
console.log(Person.prototype) // {constructor: Æ’}
Person.prototype.calcAge = function () {
  console.log(2037 - this.birthYear) // this > object ê°€ë¦¬í‚¤ê²Œ ë¼ìˆìŒ.
}
console.log(Person.prototype) // {calcAge: Æ’, constructor: Æ’}
// prototype objectì— calcAgeë¼ëŠ” method ì¶”ê°€ë¨!

jonas.calcAge() // 46 (jonas ë³¸ì¸í•œí…ŒëŠ” ì—†ì§€ë§Œ __proto__ íƒ€ê³  ì˜¬ë¼ê°)
matilda.calcAge() // 20 (matilda ë³¸ì¸í•œí…ŒëŠ” ì—†ì§€ë§Œ __proto__ íƒ€ê³  ì˜¬ë¼ê°)
// ì–´ë–»ê²Œ ì´ê²Œ ê°€ëŠ¥í•˜ëƒ? >>> Any object always has access to the methods and properties
// from its prototype.ì¸ë°, jonas/matildaì˜ prototype = Person.prototypeì´ê¸° ë•Œë¬¸.
```

â˜ï¸ ì´ë•Œ, ìƒì„±ì í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì…ì€ ì‹¤ì œ ìê¸°ìì‹ ì˜ í”„ë¡œí† íƒ€ì…ì„ ê°€ë¦¬í‚¤ëŠ” ê²ƒì´ ì•„ë‹ˆê³ ,
ìê¸° ìì‹ ì— ì˜í•´ ë§Œë“¤ì–´ì§„ ê°ì²´ë“¤ì˜ í”„ë¡œí† íƒ€ì…ì„ ê°€ë¦¬í‚¨ë‹¤!
ë•Œë¬¸ì— ì•„ë˜ ì½”ë“œì˜ ê²°ê³¼ê°€ trueë¡œ ë‚˜ì˜¨ë‹¤...

```js
console.log(jay.__proto__ === Person.prototype) // true
```

<div className="my-1 w-full overflow-hidden px-2 xl:my-1 xl:w-full xl:px-2">
  ![Classical](/static/images/oop/oop(3)-1.png)
</div>
=> ì‹¤ì œë¡œ ì»¨ì†”ì— jonas ê°ì²´ë¥¼ ì°ì–´ë³´ë©´ __proto__ í”„ë¼í¼í‹°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê³ , ê·¸ ì•ˆì— calcAge ë©”ì†Œë“œê°€
ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤!

ì´ ë§ì€ ê³§:

- â€œjonas ê°ì²´ëŠ” Person.prototypeì„ ë¶€ëª¨(prototype)ë¡œ ì‚¼ëŠ”ë‹¤â€
- ê·¸ë˜ì„œ Person.prototypeì— ì •ì˜ëœ ë©”ì„œë“œë‚˜ ì†ì„±ì„ jonasë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js
// ğŸ’¡ Each object has a special property called __proto__.
console.log(jonas.__proto__) // {calcAge: Æ’, constructor: Æ’}
// calcAgeê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— jonas ì˜¤ë¸Œì íŠ¸ ìì²´ì— ì´ ë©”ì†Œë“œê°€ ì—†ì–´ë„, prototypeì—ëŠ” ìˆê¸° ë•Œë¬¸ì— ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒ!!

// 1. ìƒì„±ìí•¨ìˆ˜ì— ì˜í•´ ë§Œë“¤ì–´ì§„ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… = jonas.__proto__
// 2. Personì˜ í”„ë¡œí† íƒ€ì…
// => ì´ ë‘ ê°œëŠ” ê°™ë‹¤.
console.log(jonas.__proto__ === Person.prototype) // true

// ìœ„ ì½”ë“œì²˜ëŸ¼ ì‚¬ì‹¤ Person.prototype = Person í•¨ìˆ˜ì˜ prototypeì„ ëœ»í•˜ëŠ” ê²Œ ì•„ë‹ˆë‹¤.
// ì´ë¦„ì€ ì´ë ‡ê²Œ ì§€ì—ˆì§€ë§Œ, ìê¸°ìì‹ (Person ìƒì„±ìí•¨ìˆ˜)ì˜ prototype objectë¥¼ ê°€ë¦¬í‚¤ëŠ” ê²Œ ì•„ë‹ˆë¼,
// ğŸŒŸPerson functionì— ì˜í•´ ë§Œë“¤ì–´ì§„ Objectë“¤(=jonas, matilda)ì˜ prototypeì„ ê°€ë¦¬í‚¤ëŠ” ê²ƒ!ğŸŒŸ
// ì¦‰, Person.prototypeOfLinkedObjectsë¼ê³  ì´ë¦„ì„ ë°”ê¿”ì•¼ make senseí•  ìˆ˜ ìˆëŠ” ë¶€ë¶„!!

// ë‹¤ì‹œë§í•´, ì•„ë˜ì˜ ê²°ê³¼ì²˜ëŸ¼, Person.prototypeì€ Person functionìœ¼ë¡œ ìƒì„±ëœ ì˜¤ë¸Œì íŠ¸ë“¤ì˜ prototypeì´ë‹¤.
// (the prototype of all the objects that are created with the person constructor function.)
console.log(Person.prototype.isPrototypeOf(jonas)) // true âœ…
console.log(Person.prototype.isPrototypeOf(matilda)) // true âœ…
console.log(Person.prototype.isPrototypeOf(Person)) // false ğŸ’¥
```

---

### 3. Prototypal Inheritance

<div className="my-1 w-full overflow-hidden px-2 xl:my-1 xl:w-full xl:px-2">
  ![Classical](/static/images/oop/oop(3)-2.png)
</div>

1ï¸âƒ£ Constructor functionì˜ í”„ë¡œí† íƒ€ì…ì€ ì‚¬ì‹¤ìƒ ìì‹ ì˜ í”„ë¡œí† íƒ€ì…ì´ ì•„ë‹ˆë¼, ìì‹ ìœ¼ë¡œë¶€í„° íŒŒìƒëœ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ ì˜ë¯¸

```js
console.log(Person.prototype === jonas.__proto__) // true âœ…

console.log(Person.prototype.isPrototypeOf(jonas)) // true âœ…
console.log(Person.prototype.isPrototypeOf(matilda)) // true âœ…
console.log(Person.prototype.isPrototypeOf(Person)) // false ğŸ’¥
```

2ï¸âƒ£ ìƒì„±ì í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì… ìƒì˜ constructorëŠ” ë‹¤ì‹œ ìê¸°ìì‹ ì„ ê°€ë¦¬í‚¨ë‹¤.  
ê°ì²´ë“¤ì˜ ì›í˜•(=ë¶€ëª¨ ê°ì²´ = Person.prototype)ì˜ constructorëŠ” ìƒì„±ì í•¨ìˆ˜ë¼ê³  ìƒê°í•˜ë©´ ì‰½ë‹¤.

```js
console.log(Person.prototype.constructor) // Person function
// constructorì™€ prototypeì€ ë°˜ëŒ€ ê°œë…ì´ì–´ì„œ prototypeì— constructorì„ ë¶™ì—¬ì£¼ë©´
// Person functionìœ¼ë¡œ ë‹¤ì‹œ ëŒì•„ì˜¨ë‹¤.

// âœ¨ If we want to "inspect" that function, we need to use console.dir
// => console.dir: ê°œë°œìê°€ ê°ì²´ì˜ ì†ì„± êµ¬ì¡°ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì í•©í•œ ëª…ë ¹ì–´ (íŠ¸ë¦¬ êµ¬ì¡° ì¶œë ¥)
// ex. { innerText: "Click Me", id: "", ... } (ê°ì²´ êµ¬ì¡°)
// => console.log: ì‚¬ëŒì´ ì½ê¸° ì¢‹ì€ "ê°’" ì¤‘ì‹¬ ë””ìŠ¤í”Œë ˆì´
// ex. <button>Click Me</button>
console.dir(Person.prototype.constructor)
// Æ’ Person(firstName, birthYear)
```

3ï¸âƒ£ ìƒì„±ìí•¨ìˆ˜ì™€ new í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
ë¹ˆ ê°ì²´ê°€ ìƒì„±ë˜ë©° CF í˜¸ì¶œ ì•ˆì˜ this í‚¤ì›Œë“œê°€ ë¹ˆ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë˜ì–´ thisí‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ í”„ë¼í¼í‹°ì™€ ë©”ì†Œë“œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
ë™ì‹œì— ê°ì²´ëŠ” ìƒì„±ì í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì… í”„ë¼í¼í‹°ì— **proto**(í”„ë¡œí† íƒ€ì… ì²´ì¸)ì— ì˜í•´ ìë™ìœ¼ë¡œ ì—°ê²°ëœë‹¤.

4ï¸âƒ£ ì´ëŸ¬í•œ í”„ë¡œí† íƒ€ì… ì²´ì¸/ìƒì†ì´ ì™œì´ë¦¬ ì¤‘ìš”í•˜ê³  ê°•ë ¥í• ê¹Œ?

jonas.calcAge() ì½”ë“œë¥¼ ì‚´í´ë³´ì.

ë¹„ë¡ jonas ê°ì²´ì— ì§ì ‘ì ìœ¼ë¡œ calcAgeë¼ëŠ” í•¨ìˆ˜ëŠ” ì—†ì§€ë§Œ,
ì´ í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í†µí•´ JSê°€ object lookupì„ ì‹¤ì‹œí•˜ì—¬ calcAgeë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

ì¦‰, jonas ê°ì²´ëŠ” ìì‹ ì˜ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œë¶€í„° calcAge ë©”ì†Œë“œë¥¼ ìƒì†í•˜ì—¬(ë¬¼ë ¤ë°›ì•„) ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ë¶€ì—¬ë°›ê²Œ ëœë‹¤ëŠ” ì ì—ì„œ ì½”ë“œ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ë¯¸ì¹œë‹¤.
=> jonas ê°ì²´ê°€ ìê¸° ìì‹ ì„ ë§Œë“¤ì–´ì¤€ ë¶€ëª¨ ê°ì²´, ì¦‰ í”„ë¡œí† íƒ€ì…ì— **proto**ë¡œ ì—°ê²°ë  ìˆ˜ ìˆê³ , ë©”ì†Œë“œ/í”„ë¼í¼í‹°ë¥¼ ì°¾ì•„ë‚¼ ìˆ˜ ìˆëŠ”(looking up) ëŠ¥ë ¥ì€ í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ì˜í•´ ê°€ëŠ¥í•˜ë‹¤.

ì¦‰, jonasê°ì²´ì™€ prototypeì€ ì„œë¡œ prototype chainì„ ë§Œë“ ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.
prototype chainì€ ë‹¨ìˆœíˆ ìƒì„±ìí•¨ìˆ˜ì™€ ê·¸ë¡œë¶€í„° ë§Œë“¤ì–´ì§„ ê°ì²´ë§Œì„ ì´ì–´ì£¼ëŠ” ê²ƒì´ ì•„ë‹Œ, ë” ë‚˜ì•„ê°€ ìƒì„±ìí•¨ìˆ˜ì˜ ì›í˜•ê¹Œì§€ ì´ì–´ì¤€ë‹¤.

ìœ„ì™€ ê°™ì€ í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ì˜í•œ ìƒì† ë©”ì»¤ë‹ˆì¦˜ ë•ë¶„ì— ìš°ë¦¬ê°€ ì§€ê¸ˆê¹Œì§€ ë°°ì—´/ì˜¤ë¸Œì íŠ¸/í•¨ìˆ˜ ìƒì˜ ì—¬ëŸ¬ ë©”ì†Œë“œë“¤ì„ ì•„ë¬´ë ‡ì§€ ì•Šê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ!

```js
1. ë°°ì—´ì˜ í”„ë¡œí† íƒ€ì… (Array.prototype)
const arr = [3, 6, 6, 5, 5, 6, 5]; // new Array === []
console.log(arr.__proto__); // the prototype of array
// ğŸŒŸAll these methodsğŸŒŸ that we already know. -> fill/filter/find/pop/push/reduce/shift....
// => This is the reason why all the arrays get access to all of these methods.
// ìš°ë¦¬ê°€ ê·¸ë™ì•ˆ ì–´ë ˆì´ ìƒì—ì„œ methodë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆì—ˆë˜ ì´ìœ ëŠ” prototypeì— ì´ëŸ¬í•œ methodë“¤ì´
// ìˆì—ˆê¸° ë•Œë¬¸! ë¬¼ë¡  ê°ê°ì˜ ì–´ë ˆì´ëŠ” ì´ëŸ¬í•œ methodsë¥¼ ë‹¤ í¬í•¨í•˜ì§„ ì•Šì§€ë§Œ, ì´ëŸ¬í•œ methodsë¥¼
// ì–´ë ˆì´ì˜ prototypeìœ¼ë¡œë¶€í„° ë¬¼ë ¤ë°›ê¸°(ìƒì†ë°›ê¸°) ë•Œë¬¸ì— ì‚¬ìš© ê°€ëŠ¥í•œ ê²ƒ.
// (any array inherits all their methods from its a prototype.)
console.log(arr.__proto__ === Array.prototype);
// prototype property of the constructor = prototype of all the objects created by that constructor.

2. í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì… (Function.prototype)
function ë˜í•œ ì˜¤ë¸Œì íŠ¸ì´ê¸° ë•Œë¬¸ì— prototypeì„ ê°–ëŠ”ë‹¤. -> apply/bind/call methodë¥¼ í¬í•¨..
=> ê·¸ë™ì•ˆ ìš°ë¦¬ê°€ í•¨ìˆ˜ ìƒì—ì„œ ì´ëŸ¬í•œ methodë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆì—ˆë˜ ì´ìœ 
console.dir(x => x + 1);
```

| (x => x+1) í™”ì‚´í‘œ í•¨ìˆ˜ì˜ prototype

<div className="my-1 w-full overflow-hidden px-2 xl:my-1 xl:w-full xl:px-2">
  ![Classical](/static/images/oop/oop(3)-3.png)
</div>

---

### 4. Prototype Chain

<div className="my-1 w-full overflow-hidden px-2 xl:my-1 xl:w-full xl:px-2">
  ![Classical](/static/images/oop/oop(3)-4.png)
</div>

ìƒì„±ìí•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì…, ì¦‰ ê°ì²´ë“¤ì˜ ë¶€ëª¨ ê°ì²´ë„ ì–´ì¨Œë“  ê°ì²´ì´ë‹¤.
ê·¸ë¦¬ê³  JS ë‚´ ëª¨ë“  ê°ì²´ë“¤ì€ í”„ë¡œí† íƒ€ì…ì„ ê°–ê¸° ë•Œë¬¸ì—,
Person.prototype.**proto** === Object.prototype ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.

ì–´ì¨Œë“ , Person.prototypeë„ ê°ì²´ë¼ëŠ” ê²ƒì€ ì–´ë–¤ ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ë§Œë“¤ì–´ì¡Œë‹¤ê³  ë³¼ ìˆ˜ ìˆëŠ”ë°,
ì´ë•Œ ìƒì„±ì í•¨ìˆ˜ëŠ” 'Object'ë¼ëŠ” Built-in ìƒì„±ì í•¨ìˆ˜ì¸ ê²ƒì´ë©°, í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ì˜í•´ jonas ê°ì²´ê¹Œì§€ ë‹¤ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

ì´ë•Œ, Object ìƒì„±ì í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì…ì´ í”„ë¡œí† íƒ€ì… ì²´ì¸ì˜ ê¼­ëŒ€ê¸°ì´ë¯€ë¡œ,
Object.prototype === Person.**proto** === nullì´ë‹¤.

```js
console.log(jonas.__proto__) // prototype property of Person(jonas' CF)
console.log(jonas.__proto__.__proto__) // prototype property of Object(Person's CF)
// = Object.prototype (top of the prototype chain)
console.log(jonas.__proto__.__proto__.__proto__) // ğŸ’¥null
// because object.prototype is usually the top of the prototype chain.
```

---

### | Prototype Chain VS. Scope Chain

ì´ëŸ¬í•œ í”„ë¡œí† íƒ€ì… ì²´ì¸ì€ ìŠ¤ì½¥ì²´ì¸ ê°œë…ê³¼ ë¹„ìŠ·í•˜ë‹¤.
ë‹¨ì§€, ì½”ë“œ ìƒì˜ ë³€ìˆ˜ê°€ ì„ ì–¸ëœ ê³µê°„ì¸ ìŠ¤ì½¥ì„ ì—°ê²°ì§€ì–´ íŠ¹ì • ë³€ìˆ˜ì˜ ì‚¬ìš©ì—¬ë¶€ë¥¼ ê²°ì •ì§“ëŠ” ê²ƒì´ ì•„ë‹Œ,
ê°ì²´ ì•ˆì˜ í”„ë¼í¼í‹°ì™€ ë©”ì†Œë“œì˜ ì‚¬ìš© ì—¬ë¶€ë¥¼ ê³µìœ í•˜ëŠ” ê°œë…ì˜ ì²´ì¸ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì´ì „ ê°•ì˜ì—ì„œ ë´¤ë˜ hasOwnProperty ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë˜ ì´ìœ ê°€ jonas ê°ì²´ì— ì§ì ‘ì ìœ¼ë¡œ ì¡´ì¬í•˜ì§„ ì•Šì•„ë„, í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ì˜í•´ method/property lookupì„ í†µí•´ ì‚¬ìš©ê°€ëŠ¥í•œ ë©”ì†Œë“œì´ë‹¤.

í”„ë¡œí† íƒ€ì… ì²´ì¸ì—ì„œ method/property lookupì€ ìì‹ ì˜ ë¶€ëª¨ì˜ í”„ë¡œí† íƒ€ì… ê°ì²´(Person.prototype) â†’ ë¶€ëª¨ì˜ ë¶€ëª¨ì˜ í”„ë¡œí† íƒ€ì… ê°ì²´(Object.prototype) ìˆœìœ¼ë¡œ ì˜¬ë¼ê°€ë©´ì„œ í•´ë‹¹ method/propertyì„ ì°¾ì„ ë•Œê¹Œì§€ ì§„í–‰ë˜ë©° ì´ë•Œ hasOwnProperty ë©”ì†Œë“œëŠ” Object.prototypeì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš© ê°€ëŠ¥í–ˆì—ˆë‹¤.

> **â“ğŸ¤” ì´ëŸ¬í•œ í”„ë¡œí† íƒ€ì… ìƒì†ì„ ì´ìš©í•´ â€œì›í•˜ëŠ” ê¸°ëŠ¥ì„ prototypeì— ì§ì ‘ ì¶”ê°€í•´ ë‘ë©´, ëª¨ë“  ê´€ë ¨ ê°ì²´ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë‹ˆ ë” íš¨ìœ¨ì ì´ì§€ ì•Šì„ê¹Œ?â€ë¼ëŠ” ìƒê°ì´ ë“¤ ìˆ˜ ìˆë‹¤..**

=> Arrayì˜ prototypeì— any new methodë‚˜ ì¶”ê°€í•  ìˆ˜ ìˆê³ , ì´ ì¶”ê°€í•œ method(ë‚´ê°€ ë§Œë“œëŠ” í•¨ìˆ˜)ëŠ”
ëª¨ë“  ì–´ë ˆì´ê°€ inherití•  ê²ƒì´ë¯€ë¡œ ìœ„ì— ìˆëŠ” arrì´ë¼ëŠ” ì–´ë ˆì´ ìƒì—ì„œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤!
í•˜ì§€ë§Œ ì´ëŠ” ì‹¤ì œ í˜‘ì—…ì—ì„œ ë°”ëŒì§í•˜ì§€ ì•Šì€ ë©”ì†Œë“œ ìƒì„± ë°©ë²•ì´ë‹¤.

1. JSì˜ ë‹¤ìŒ ë²„ì „ì´ ë‚´ê°€ ì¶”ê°€í•œ method ì´ë¦„ê³¼ ë™ì¼í•œ ì´ë¦„ì„ ê°€ì§„ methodë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤. -> break my cod
2. ë§ì€ ê°œë°œìë“¤ì´ ì—¬ëŸ¬ê°€ì§€ ë™ì¼í•œ methodë¥¼ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ë§Œë“¤ê±´ë°, ê·¸ë ‡ê²Œ ë˜ë©´ ë§ì€ ë²„ê·¸ë¥¼ create

```js
Array.prototype.unique = function () {
  return [...new Set(this)]
}
console.log(arr.unique()) // [3, 6, 5]
```

---

### ğŸš¨ ì™œ Array.prototypeì— ë©”ì„œë“œë¥¼ ì§ì ‘ ì¶”ê°€í•˜ë©´ ì•ˆ ë ê¹Œ?

JavaScriptì—ì„œëŠ” Array.prototypeì— ë‚´ê°€ ë§Œë“  ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë©´, ëª¨ë“  ë°°ì—´ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í•´ë‹¹ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´:

```js
Array.prototype.sayHello = function () {
  console.log('Hello from Array!')
}

const arr = [1, 2, 3]
arr.sayHello() // "Hello from Array!"
```

ê²‰ë³´ê¸°ì—ëŠ” í¸ë¦¬í•´ ë³´ì´ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ê¶Œì¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ìœ ëŠ” í¬ê²Œ ë‘ ê°€ì§€ë‹¤.

**1. ë¯¸ë˜ ë²„ì „ ì¶©ëŒ ìœ„í—˜**  
 JavaScriptì˜ ì°¨ê¸° ë²„ì „ì—ì„œ ë™ì¼í•œ ì´ë¦„ì˜ ë©”ì„œë“œê°€ ê³µì‹ì ìœ¼ë¡œ ì¶”ê°€ë  ìˆ˜ ìˆë‹¤.
ê·¸ëŸ´ ê²½ìš° ë‚´ê°€ ë§Œë“  ë©”ì„œë“œì™€ ì¶©ëŒí•´ì„œ ê¸°ì¡´ ì½”ë“œê°€ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ.

**2. í˜‘ì—…/í˜¸í™˜ì„± ë¬¸ì œ**

- ì—¬ëŸ¬ ê°œë°œìê°€ ê°ì Array.prototypeì— ë©”ì„œë“œë¥¼ ì¶”ê°€í•œë‹¤ë©´,
- ê°™ì€ ì´ë¦„ì¸ë° ë™ì‘ì´ ë‹¤ë¥¸ ê²½ìš°ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
- ì´ëŠ” ì˜ˆìƒì¹˜ ëª»í•œ ë²„ê·¸ì™€ ìœ ì§€ë³´ìˆ˜ ì§€ì˜¥ì„ ë§Œë“ ë‹¤.
  => Array.prototypeì— ì§ì ‘ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ëŠ” ê±´ ì „ì—­ì„ ì˜¤ì—¼ì‹œì¼œ ë¯¸ë˜ í˜¸í™˜ì„±ê³¼ í˜‘ì—… ì•ˆì •ì„±ì„ ê¹¨ëœ¨ë¦¬ëŠ” ìœ„í—˜í•œ ë°©ë²•ì´ë¯€ë¡œ, ìœ í‹¸ í•¨ìˆ˜ë‚˜ í—¬í¼ ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆ: Lodash, Ramda)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ìµœì„ ì´ë‹¤.
